# F1 경기 추천기

### **들어가며**
- 제안서를 읽기 전 아래 용어들에 대한 설명을 읽고 가시면 원활한 이해에 도움이 될 것 같습니다.

| 용어 (Term) | 설명 (Description) |
| :--- | :--- |
| **레이스**<br>(Race / Grand Prix) | 일요일에 열리는 **메인 경기**. 약 300km(약 2시간)를 달려 가장 먼저 들어오는 사람이 우승함. |
| **퀄리파잉**<br>(Qualifying) | 토요일에 열리는 '타임 어택'. 가장 빠른 한 바퀴 기록을 재서 레이스 출발 순서(Grid)를 정함. |
| **세이프티 카**<br>(Safety Car, **SC**) | 큰 사고 시 **실제 차량**이 트랙에 들어와 모든 F1 차들을 한 줄로 모으고 서행시킴. |
| **버추얼 세이프티 카**<br>(Virtual SC, **VSC**) | 작은 사고 시 실제 차는 나오지 않고, **전자 신호**로 속도 제한만 걺. (간격 유지) |

- 레이스, 퀄리파잉 외에도 프랙티스 세션, 스프린트&스프린트 퀄리파잉(일부 그랑프리에서만 시행)과 같은 세션이 있습니다.

## 1. 해결하고자 하는 문제

F1은 본 레이스의 경우 경기당 평균 소요 시간이 약 2시간으로 상당히 깁니다. 또한, 대다수의 경기가 늦은 밤 또는 새벽 시간 대에 진행되기 때문에 모든 경기를 풀타임으로 챙겨보는 것은 부담스럽습니다.
<br> 어떤 경기는 시작부터 끝까지 치열한 접전이 벌어지지만, 어떤 경기는 퀄리파잉에서의 결과에서 순위 변동 없이 지루하게 끝나는 '기차놀이'가 되기도 합니다.
결과를 미리 알든 모르든, **경기 내용 자체가 얼마나 역동적이었는지** 데이터로 확인하고, 효율적으로 시청하고 싶은 니즈가 있습니다.


### 실제 사용 시나리오
- **사용 대상**: 남은 2025 시즌 경기 및 다시 보고 싶은 과거 시즌 명경기.
- **사용 빈도**:
  1. 남은 시즌 생중계를 놓친 경우 다음 날 아침 시청 여부 결정.
  2. 비시즌(겨울) 동안 과거 시즌 중 놓쳤던 경기들을 골라볼 때 사용.
- **결정 가이드 예시**:
  - **Score High (7.0↑)** $\rightarrow$ Recommended
  - **Score Low (5.0↓)** $\rightarrow$ Not Recommended

---

## 2. 제안하는 솔루션

Python의 `FastF1` 라이브러리를 활용해 레이스의 텔레메트리 데이터를 분석하고, 머신러닝 모델을 통해 'Excitement Score'를 산출합니다.

### 주요 기능
1. **Input**: 보고 싶은 경기의 연도와 라운드 (예: 2024 Sao Paulo).
2. **Analysis**:
   - **SC/VSC 발령**: 경기 흐름을 뒤집는 변수가 얼마나 많았는지
   - **Gap Analysis**: 1위와 2위, 혹은 중위권 그룹의 격차가 얼마나 촘촘했는지
   - **Position Changes**: 실제 순위 변동이 얼마나 활발했는지
3. **Output**:
   - **Excitement Score**: 10점 만점 기준 예측 점수.
   - **Recommendation**: "Must Watch", "Recommended", "Not Recommended".
   - **Type Classification (Rule-Based)**:
     - ML 모델 학습 없이, 수집된 Feature(SC 횟수, 격차 등)의 임계값(Threshold)을 기준으로 자동 분류.
     - 예: SC ≥ 2회 시 'Chaos', 선두 교체 다수 발생 시 'Battle', 격차가 클 시 'Dominance'로 태깅.

---

## 3. ML 활용 계획

### Assignment 4: 데이터 수집 및 분석
- **데이터 소스**: **Python `FastF1` Library** (공식 타이밍 데이터 접근 가능).
- **수집 대상**: 최근 5년(2021~2025) 간의 모든 레이스 데이터.
- **Feature Engineering (X)**:
  - `SC/VSC Count`: 세이프티 카/버추얼 세이프티 카 발령 횟수 추출.
  - `Lead Changes`: 랩별 선두 드라이버 변경 횟수 (접전 여부).
  - `Gap Std Dev`: 1위와 2위 사이의 시간 격차 표준편차 (낮을수록 치열함).
  - `Position Gains`: 드라이버들의 순위 상승 횟수 총합 (추월의 근사치).

### Assignment 5: 모델 학습 및 평가
- **Target Labeling (Ground Truth)**:
  - **Data Integration (Standardization)**: 서로 다른 척도를 가진 두 데이터셋을 0~1 범위로 통일(Min-Max Normalization)하여 통합.
    1. **F1 Hot or Not (Reddit)**: 기존 5단계(-2 ~ +2) 데이터를 0~1로 정규화.
    2. **RaceFans.net**: 기존 0 ~ 10점 데이터를 0~1로 정규화.
  - **Final Label**: 두 정규화된 값의 평균을 최종 Excitement Score (0.0 ~ 1.0)로 사용.
- **Data Split**:
  - **Train Set**: 2021 ~ 2024 시즌 데이터.
  - **Test Set**: 2025 시즌 데이터.
- **모델 후보**:
  - **Random Forest Regressor**: 다양한 변수(Feature)들 간의 상호작용을 고려한 회귀 예측.
  - **XGBoost**: 적은 데이터셋에서도 높은 성능을 내는 부스팅 모델 활용.
- **목표**:
  - 2025년 시즌 경기들에 대해 실제 팬 평점(Y)과 예측값의 오차를 최소화.
  - **평가 지표**: **RMSE** (평균 제곱근 오차) 및 **MAE** (평균 절대 오차).

---
